#!/usr/bin/env node
import {
  diffReports
} from "./chunk-BIVQ42I3.js";

// src/cli.ts
import yargs from "yargs/yargs";
import { hideBin } from "yargs/helpers";

// src/utils/json.ts
import JSONbig from "json-bigint";
import fs from "fs";
import path from "path";
function readJson(filePath) {
  const content = fs.readFileSync(path.join(process.cwd(), filePath));
  return JSON.parse(
    JSON.stringify(JSONbig({ storeAsString: true }).parse(content))
  );
}

// src/cli.ts
import fs2 from "fs";
yargs(hideBin(process.argv)).scriptName("aave-report-engine").usage("$0 <cmd> [args]").command(
  "diff [from] [to] [out]",
  "diffs two json reports",
  (yargs2) => {
    yargs2.positional("from", {
      type: "string",
      describe: "the initial json"
    });
    yargs2.positional("to", {
      type: "string",
      describe: "the final json"
    });
    yargs2.positional("out", {
      type: "string",
      describe: "the output path & filename"
    });
  },
  async function(argv) {
    const from = readJson(argv.from);
    const to = readJson(argv.to);
    const content = await diffReports(from, to);
    fs2.writeFileSync(argv.out, content);
  }
).help().argv;
//# sourceMappingURL=cli.js.map