"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.assertRequest = void 0;
const index_js_1 = require("../../errors/index.js");
const transaction_js_1 = require("../../errors/transaction.js");
const accounts_js_1 = require("../accounts.js");
const index_js_2 = require("../address/index.js");
function assertRequest(args) {
    const { account: account_, gasPrice, maxFeePerGas, maxPriorityFeePerGas, to, } = args;
    const account = account_ ? (0, accounts_js_1.parseAccount)(account_) : undefined;
    if (account && !(0, index_js_2.isAddress)(account.address))
        throw new index_js_1.InvalidAddressError({ address: account.address });
    if (to && !(0, index_js_2.isAddress)(to))
        throw new index_js_1.InvalidAddressError({ address: to });
    if (typeof gasPrice !== 'undefined' &&
        (typeof maxFeePerGas !== 'undefined' ||
            typeof maxPriorityFeePerGas !== 'undefined'))
        throw new transaction_js_1.FeeConflictError();
    if (maxFeePerGas && maxFeePerGas > 2n ** 256n - 1n)
        throw new index_js_1.FeeCapTooHighError({ maxFeePerGas });
    if (maxPriorityFeePerGas &&
        maxFeePerGas &&
        maxPriorityFeePerGas > maxFeePerGas)
        throw new index_js_1.TipAboveFeeCapError({ maxFeePerGas, maxPriorityFeePerGas });
}
exports.assertRequest = assertRequest;
//# sourceMappingURL=assertRequest.js.map